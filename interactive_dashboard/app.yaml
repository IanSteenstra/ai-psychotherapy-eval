runtime: python312

entrypoint: gunicorn -b :$PORT main:app

instance_class: B8

basic_scaling:
  max_instances: 5
  idle_timeout: 10m

# Add Redis connection details
env_variables:
  REDIS_HOST: "<redis_host>" # Internal IP of Redis instance
  REDIS_PORT: "<redis_port>"          # Default Redis port, e.g., 6379

# Connect to VPC to access Redis - e.g., us-east1 region
vpc_access_connector:
  name: "projects/<project_id>/locations/<region>/connectors/redis-connector"

handlers:
- url: /static
  static_dir: static
- url: /.*
  script: auto